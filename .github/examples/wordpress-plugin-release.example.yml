name: WordPress Plugin Release

on:
  push:
    tags:
      - "[0-9]+.[0-9]+.[0-9]" # IMPORTANT: This should match the tag_pattern input below
  workflow_dispatch:

jobs:
  wordpress-plugin-release:
    uses: emboldagency/.github/.github/workflows/wordpress-plugin-release.yml@v1
    with:
      tag: ${{ github.ref_name }}
      plugin_main_file: my-plugin.php # or omit to use the default <repo>.php
      readme_file: readme.txt # optional, default is readme.txt
      fix: false # set to true to auto-fix version numbers (boolean)
      tag_pattern: '[0-9]+\.[0-9]+\.[0-9]+' # IMPORTANT: This should match the on.push.tags pattern above
